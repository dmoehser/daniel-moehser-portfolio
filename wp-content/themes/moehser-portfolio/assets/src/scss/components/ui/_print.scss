// Print Styles
// ============

@use '../../utils/tokens';

// Print Spacing Constants
// -----------------------
$print-margin: 12mm;
$print-padding: 10mm;
$spacing-4: 4px;
$spacing-6: 6px;
$spacing-12: 12px;
$spacing-16: 16px;
$spacing-24: 24px;

// Print Font Sizes (pt)
// ---------------------
$font-size-base: 11.5pt;
$font-size-small: 7pt;
$font-size-large: 11pt;
$font-size-medium: 10pt;
$font-size-tiny: 8pt;

// Print Colors
// ------------
$color-white: #ffffff;
$color-black: #000;
$color-gray-dark: #333;
$color-gray-medium: #667;
$color-gray-light: #ddd;

// Print Layout Constants
// ----------------------
$line-height-print: 1.4;
$line-height-tight: 1.2;

@media print {
  @page {
    margin: $print-margin;
  }
  
  @page :first {
    size: landscape;
  }
  
  html,
  body {
    background: $color-white !important;
  }
  
  // Hide UI elements
  // ================
  
  #site-header,
  #site-header *,
  .site-header__inner,
  .site-header__inner *,
  .menu,
  .menu *,
  .pill,
  .hero__quick,
  .hero__quick *,
  .hero__brand,
  .hero__brand *,
  .wpadminbar,
  .scroll-progress-top,
  .social-dock,
  .fullscreen-preview-overlay {
    display: none !important;
  }

  #site-header {
    position: static !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    transform: none !important;
    background: transparent !important;
  }

  // Reset animations and transitions
  // ================================
  
  * {
    transition: none !important;
    animation: none !important;
  }

  // Section sizing and page breaks
  // ==============================
  
  #hero,
  #skills,
  #about,
  #projects {
    min-height: auto !important;
    height: auto !important;
    padding: $spacing-24 0 !important;
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  #skills,
  #about,
  #projects {
    break-before: page;
    page-break-before: always;
  }

  #hero {
    break-after: page;
    page-break-after: always;
  }
  
  #skills {
    break-after: page;
    page-break-after: always;
  }
  
  #about {
    break-after: page;
    page-break-after: always;
  }
  
  #projects {
    break-after: auto;
    page-break-after: auto;
  }

  // Hero cleanup
  // ============
  
  #hero,
  #hero * {
    box-shadow: none !important;
  }
  
  #hero {
    background: transparent !important;
  }

  // Reset layout for print
  // ======================
  
  .page-scroll,
  .page-scroll > section,
  .section-base,
  .hero,
  .skills,
  .about,
  .projects {
    min-height: auto !important;
    height: auto !important;
    overflow: visible !important;
    display: block !important;
  }
  
  .section-inner,
  .skills__inner,
  .about__inner,
  .projects__inner {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding-left: $print-padding !important;
    padding-right: $print-padding !important;
  }
  
  .section-content,
  .section-card {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    overflow: visible !important;
  }

  // Typography improvements
  // =======================
  
  body {
    font-size: $font-size-base;
    line-height: $line-height-print;
  }
  
  p,
  li {
    line-height: $line-height-print;
  }
  
  h1,
  h2,
  h3 {
    page-break-after: avoid;
    break-after: avoid;
  }

  // Link URLs
  // =========
  
  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: $font-size-small;
    font-weight: normal;
    color: $color-gray-medium;
    text-decoration: none;
  }
  
  .project-card__demo-btn:after,
  .hero__quick-btn:after,
  .animated-border:after {
    content: none !important;
  }
  
  #projects a[href^="http"]:before {
    content: " (" attr(href) ") ";
    font-size: $font-size-small;
    font-weight: normal;
    color: $color-gray-medium;
    text-decoration: none;
  }
  
  #projects .project-card__demo-btn:before,
  #projects .project-card__github-btn:before {
    content: none !important;
  }

  // About section optimization
  // ==========================
  
  #about .about__card {
    break-inside: avoid-page;
    page-break-inside: avoid;
  }
  
  #about .about__content-text p {
    orphans: 3;
    widows: 3;
  }
  
  #about ul,
  #about ol {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  #about .about__cta {
    display: none !important;
  }
  
  #skills .skills__inner {
    height: auto !important;
    overflow: visible !important;
  }
  
  #skills .skills__viewport {
    height: auto !important;
    overflow: visible !important;
  }

  // Projects: show all slides, stack vertically
  // ------------------------------
  #projects .projects__nav-btn { display: none !important; }
  #projects .projects__header { display: none !important; }
  #projects .projects__grid { display: none !important; }
  #projects .projects__inner,
  #projects .projects__content,
  #projects .projects__card {
    height: auto !important;
    overflow: visible !important;
  }

  // Print stack (rendered outside slider in print mode)
  // ------------------------------
  #projects .projects__print-stack {
    display: block !important;
    width: 100% !important;
  }
  #projects .projects__print-stack .projects__slide {
    display: block !important;
    width: 100% !important;
    margin: 0 0 $spacing-16 0 !important;
  }
  #projects .projects__print-stack .projects__slide + .projects__slide {
    break-before: page;
    page-break-before: always;
  }
  // Make side-by-side card printable (vertical)
  #projects .project-card--side-by-side {
    display: block !important;
    height: auto !important;
    min-height: 0 !important;
    max-height: none !important;
    box-shadow: none !important;
  }
  #projects .project-card--side-by-side .project-card__screenshot,
  #projects .project-card--side-by-side .project-card__info {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    min-height: 0 !important;
    max-height: none !important;
    margin-right: 0 !important;
  }
  #projects .project-card--side-by-side .project-card__screenshot img { width: 100% !important; height: auto !important; object-fit: contain !important; }
  #projects .project-card__actions { display: none !important; }
  #projects .project-card__technologies { display: none !important; }
  #projects .project-card__tags { display: none !important; }
  #projects .print-project-heading { font-size: 11pt !important; margin: 0 0 4pt 0 !important; color: #000 !important; }
  #projects .project-card__title { font-size: 10pt !important; margin: 0 0 4pt 0 !important; color: #000 !important; font-weight: bold !important; }
  #projects .project-card__excerpt { font-size: 8pt !important; line-height: 1.2 !important; margin: 0 0 6pt 0 !important; color: #333 !important; }

  // Force-visible states for print
  // ------------------------------
  #hero, #skills, #about, #projects,
  #hero *, #skills *, #about *, #projects * {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
  }

  // Skills section styling
  // ----------------------
  #skills .skills__scrollbar,
  #skills .custom-scrollbar { display: none !important; }
  #skills .skill-card { 
    box-shadow: none !important; 
    border-color: #ddd !important; 
    break-inside: avoid-page; 
    page-break-inside: avoid; 
  }
  #skills .skills--adaptive .skills__top-row,
  #skills .skills--fixed .skills__top-row,
  #skills .skills__bottom-row {
    grid-template-columns: 1fr !important;
    gap: $spacing-12 !important;
  }
  #skills .skill-card--standard,
  #skills .skill-card--special { height: auto !important; max-height: none !important; }
  #skills .skill-card__description { 
    line-clamp: unset !important; 
    -webkit-line-clamp: unset !important; 
    display: block !important; 
    max-height: none !important; 
    overflow: visible !important; 
    text-overflow: initial !important; 
  }
  #skills .skill-card__list { max-height: none !important; overflow: visible !important; }
}
