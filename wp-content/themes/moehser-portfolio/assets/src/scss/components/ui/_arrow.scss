// Hero Arrow Styles
// =================

@use '../../utils/tokens';

// Spacing Constants
// -----------------
$spacing-1: 1px;
$spacing-2: 1.5px;        // Desktop scaling: 2px * 0.75
$spacing-4: 3px;          // Desktop scaling: 4px * 0.75
$spacing-8: 6px;          // Desktop scaling: 8px * 0.75
$spacing-10: 7.5px;       // Desktop scaling: 10px * 0.75
$spacing-12: 9px;         // Desktop scaling: 12px * 0.75
$spacing-20: 15px;        // Desktop scaling: 20px * 0.75
$spacing-25: 18.75px;     // Desktop scaling: 25px * 0.75
$spacing-32: 24px;        // Desktop scaling: 32px * 0.75
$spacing-35: 26.25px;     // Desktop scaling: 35px * 0.75

// Color Constants
// ---------------
$color-dark: #0f172a;
$color-light: #e2e8f0;
$color-accent: #38bdf8;

// Background Colors
// -----------------
$bg-light: rgba(255, 255, 255, 0.95);
$bg-light-hover: rgba(255, 255, 255, 0.98);
$bg-light-mobile: rgba(255, 255, 255, 0.9);
$bg-dark: rgba(30, 41, 59, 0.95);
$bg-dark-hover: rgba(30, 41, 59, 0.98);
$bg-dark-mobile: rgba(30, 41, 59, 0.9);

// Border Colors
// -------------
$border-light: rgba(15, 23, 42, 0.12);
$border-light-hover: rgba(56, 189, 248, 0.3);
$border-light-mobile: rgba(15, 23, 42, 0.15);
$border-dark: rgba(255, 255, 255, 0.12);
$border-dark-mobile: rgba(255, 255, 255, 0.15);
$border-pulse: rgba(56, 189, 248, 0.45);

// Size Constants
// --------------
$arrow-size-desktop: 42px;   // Desktop scaling: 56px * 0.75
$arrow-size-mobile: 36px;    // Desktop scaling: 48px * 0.75
$icon-size-desktop: 15px;    // Desktop scaling: 20px * 0.75
$icon-size-mobile: 13.5px;   // Desktop scaling: 18px * 0.75
$z-arrow: 1000;

@keyframes arrow-pulse {
  0% {
    box-shadow: 0 $spacing-8 $spacing-25 rgba(15, 23, 42, 0.15);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 $spacing-8 $spacing-25 rgba(56, 189, 248, 0.3), 0 0 0 0 rgba(56, 189, 248, 0.7);
    transform: scale(1.05);
  }
  100% {
    box-shadow: 0 $spacing-8 $spacing-25 rgba(15, 23, 42, 0.15);
    transform: scale(1);
  }
}

@keyframes arrow-pulse-dark {
  0% {
    box-shadow: 0 $spacing-8 $spacing-25 rgba(0, 0, 0, 0.3);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 $spacing-8 $spacing-25 rgba(56, 189, 248, 0.4), 0 0 0 0 rgba(56, 189, 248, 0.8);
    transform: scale(1.05);
  }
  100% {
    box-shadow: 0 $spacing-8 $spacing-25 rgba(0, 0, 0, 0.3);
    transform: scale(1);
  }
}

@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(1.4);
    opacity: 0;
  }
}

.hero-arrow {
  position: absolute;
  bottom: $spacing-32;
  left: 50%;
  transform: translateX(-50%);
  z-index: $z-arrow;
  pointer-events: auto;
  opacity: 1;
  transition: opacity 0.3s ease;
}

.hero-arrow__container {
  width: $arrow-size-desktop;
  height: $arrow-size-desktop;
  border-radius: 50%;
  background: $bg-light;
  border: $spacing-1 solid $border-light;
  box-shadow: 0 $spacing-8 $spacing-25 rgba(15, 23, 42, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur($spacing-8);
  -webkit-backdrop-filter: blur($spacing-8);
  animation: arrow-pulse 2s infinite;
  position: relative;
}

.hero-arrow__container::after {
  content: "";
  position: absolute;
  inset: -$spacing-10;
  border-radius: inherit;
  border: $spacing-2 solid $border-pulse;
  animation: pulse 1.6s ease-out infinite;
}

.hero-arrow__container:hover {
  transform: translateY(-$spacing-2) scale(1.05);
  background: $bg-light-hover;
  border-color: $border-light-hover;
  box-shadow: 0 $spacing-12 $spacing-35 rgba(56, 189, 248, 0.25), 0 $spacing-8 $spacing-25 rgba(15, 23, 42, 0.15);
  animation: none;
  filter: brightness(1.05);
}

.hero-arrow__container:hover::after {
  animation: none;
}

.hero-arrow__container:active {
  transform: translateY(0) scale(0.98);
  transition: all 0.1s ease;
}

.hero-arrow__icon {
  width: $icon-size-desktop;
  height: $icon-size-desktop;
  color: $color-dark;
  transition: color 0.3s ease;
}

.hero-arrow__container:hover .hero-arrow__icon {
  color: $color-accent;
}

// Dark Mode Support
// =================

body.theme-dark .hero-arrow__container {
  background: $bg-dark;
  border-color: $border-dark;
  box-shadow: 0 $spacing-8 $spacing-25 rgba(0, 0, 0, 0.3);
  animation: arrow-pulse-dark 2s infinite;
}

body.theme-dark .hero-arrow__container:hover {
  background: $bg-dark-hover;
  border-color: rgba(56, 189, 248, 0.4);
  box-shadow: 0 $spacing-12 $spacing-35 rgba(56, 189, 248, 0.3), 0 $spacing-8 $spacing-25 rgba(0, 0, 0, 0.3);
  animation: none;
  filter: brightness(1.05);
}

body.theme-dark .hero-arrow__icon {
  color: $color-light;
}

body.theme-dark .hero-arrow__container:hover .hero-arrow__icon {
  color: $color-accent;
}

// Responsive Design
// =================

@media (max-width: 1024px) {
  .hero-arrow {
    bottom: $spacing-20;
    
    .hero-arrow__container {
      width: $arrow-size-mobile;
      height: $arrow-size-mobile;
      border-radius: 50%;
      background: $bg-light-mobile;
      border: $spacing-1 solid $border-light-mobile;
      box-shadow: 0 $spacing-4 $spacing-20 rgba(15, 23, 42, 0.2);
      backdrop-filter: blur($spacing-12);
      -webkit-backdrop-filter: blur($spacing-12);
      animation: arrow-pulse 2.5s infinite;
      
      &::after {
        inset: -$spacing-8;
        border-width: 1.5px;
        animation: pulse 2s ease-out infinite;
      }
    }
    
    .hero-arrow__icon {
      width: $icon-size-mobile;
      height: $icon-size-mobile;
    }
  }
  
  body.theme-dark .hero-arrow {
    .hero-arrow__container {
      background: $bg-dark-mobile;
      border-color: $border-dark-mobile;
      box-shadow: 0 $spacing-4 $spacing-20 rgba(0, 0, 0, 0.4);
      animation: arrow-pulse-dark 2.5s infinite;
    }
  }
}
