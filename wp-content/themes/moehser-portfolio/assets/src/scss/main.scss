// Sass modules must be loaded first
@use './utils/tokens';

// Main Constants
// --------------
$color-white: #ffffff;
$color-brand: #0f172a;
$color-accent: #38bdf8;
$font-size-h1: 2rem;

// Dark Mode Constants
// -------------------
$shadow-text: 0 0 1px rgba(255,255,255,0.1);
$bg-hero-quick: rgba(4,12,24,.8);
$border-hero-accent: rgba(34,255,136,.25);
$bg-tile-gradient: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
$border-tile: rgba(255,255,255,0.08);

// Core components
@use './components/header';
@use './components/ui';
@use './components/projects';
@use './components/hero';
@use './components/sections';
@use './components/skills';
@use './components/about';
@use './components/terminal';
@use './components/overlays';
@use './components/contact-form';

// Pages
@use './pages/imprint';

// Features
@use './features/performance';
@use './features/accessibility';

// Global Styles
// =============

:root {
  --brand: #{$color-brand};
  --accent: #{$color-accent};
}

* {
  box-sizing: border-box;
}

html,
body {
  background: $color-white;
}

body {
  margin: 0;
  font-family: tokens.$font-family-sans;
  color: tokens.$color-text;
}

// Dark mode support
// =================

body.theme-dark {
  background: tokens.$dark-bg;
  color: tokens.$dark-text;
  
  .hero,
  .skills,
  .about,
  .projects {
    background: tokens.$dark-bg-section;
  }
  
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: $color-white;
    text-shadow: $shadow-text;
  }
  
  .hero__code,
  .hero__mobile-text h1,
  .hero__mobile-text .hero__name {
    color: $color-white;
    text-shadow: $shadow-text;
  }

  .hero__brand-link {
    filter: none;
  }
  
  .hero__code {
    color: tokens.$dark-text;
  }
  
  .hero__code + .hero__code {
    color: tokens.$dark-muted;
  }
  
  .hero__cursor,
  .hero__code .caret,
  .brand-caret {
    background: tokens.$dark-accent;
    color: tokens.$dark-accent;
    opacity: 0.9;
  }

  .hero__quick-btn {
    background: $bg-hero-quick;
    border-color: $border-hero-accent;
  }

  .scroll-arrow {
    background: tokens.$dark-accent;
  }

  .tile {
    background: $bg-tile-gradient;
    border-color: $border-tile;
    color: tokens.$dark-text;
  }

  // SVG Icons
  // =========
  
  svg {
    color: $color-white !important;
    fill: currentColor !important;
  }
  
  img[src$=".svg"] {
    filter: brightness(0) invert(1) !important;
  }
  
  .social img[src$=".svg"] {
    filter: brightness(0) invert(1) !important;
  }
  
  .settings-gear img[src$=".svg"] {
    filter: brightness(0) invert(1) !important;
  }
  
  .projects__toggle-btn img[src$=".svg"] {
    filter: brightness(0) invert(1) !important;
  }
}

// Typography
// ==========

h1 {
  color: $color-brand;
  font-size: $font-size-h1;
}
